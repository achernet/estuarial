

<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>User Guide &mdash; estuarial 0.1 documentation</title>
    
    <link rel="stylesheet" href="_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/my-styles.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootstrap-3.0.0/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootstrap-3.0.0/css/bootstrap-theme.min.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootstrap-sphinx.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/js/jquery-1.9.1.min.js"></script>
    <script type="text/javascript" src="_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="_static/bootstrap-3.0.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="_static/bootstrap-sphinx.js"></script>
    <link rel="author" title="About these documents" href="about.html" />
    <link rel="top" title="estuarial 0.1 documentation" href="index.html" />
    <link rel="next" title="Developer Guide" href="dev_guide.html" />
    <link rel="prev" title="Demos" href="demos.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head>
  <body>

<a href="https://github.com/ContinuumIO/estuarial"><img style="position: absolute; top: 45px; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub"></a>
<div id="navbar" class="navbar navbar-inverse navbar-default navbar-fixed-top">

    <div class="container">

      <div class="navbar-header">

        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>

        <!--<a class="logo"> <img height="32" width="32" src="_static/a-logo.png" /></a>-->
        <a class="navbar-brand" href="index.html">estuarial</a>
        <span class="navbar-text navbar-version pull-left"><b>0.1</b></span>
      </div>
        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
            
              <li class="dropdown globaltoc-container">
  <a href="index.html"
     class="dropdown-toggle"
     data-toggle="dropdown">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
    ><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Quickstart</a><ul>
<li class="toctree-l2"><a class="reference internal" href="quickstart.html#downloading-installing">Downloading/Installing</a></li>
<li class="toctree-l2"><a class="reference internal" href="quickstart.html#using-estuarial">Using Estuarial</a></li>
<li class="toctree-l2"><a class="reference internal" href="quickstart.html#example-ipython-notebooks">Example IPython Notebooks</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="installation.html#configuration">Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="installation.html#installing-freetds">Installing FreeTDS</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="demos.html">Demos</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">User Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#browse">Browse</a></li>
<li class="toctree-l2"><a class="reference internal" href="#drilldown">Drilldown</a></li>
<li class="toctree-l2"><a class="reference internal" href="#query">Query</a></li>
<li class="toctree-l2"><a class="reference internal" href="#how-estuarial-interacts-with-sql-queries">How Estuarial Interacts with SQL Queries</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="dev_guide.html">Developer Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="dev_guide.html#architecture-overview">Architecture Overview</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="release_notes.html">Release Notes</a><ul>
<li class="toctree-l2"><a class="reference internal" href="release_notes.html#v0-1-apri-2014">v0.1 (Apri 2014)</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="release_notes.html#roadmap-todo-list">Roadmap &amp; TODO List</a></li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"><ul>
<li><a class="reference internal" href="#">User Guide</a><ul>
<li><a class="reference internal" href="#browse">Browse</a><ul>
<li><a class="reference internal" href="#index-constituents">Index Constituents</a></li>
<li><a class="reference internal" href="#universe-constituents">Universe Constituents</a></li>
<li><a class="reference internal" href="#retrieving-metrics-aligned-to-universe-constituents">Retrieving Metrics Aligned to Universe Constituents</a></li>
</ul>
</li>
<li><a class="reference internal" href="#drilldown">Drilldown</a></li>
<li><a class="reference internal" href="#query">Query</a></li>
<li><a class="reference internal" href="#how-estuarial-interacts-with-sql-queries">How Estuarial Interacts with SQL Queries</a><ul>
<li><a class="reference internal" href="#singleton-yaml-documents">Singleton Yaml Documents</a></li>
<li><a class="reference internal" href="#composite-yaml-documents">Composite Yaml Documents</a></li>
<li><a class="reference internal" href="#introduction-to-queryhandler">Introduction to <tt class="code docutils literal"><span class="pre">QueryHandler</span></tt></a></li>
<li><a class="reference internal" href="#using-queryhandler">Using <tt class="code docutils literal"><span class="pre">QueryHandler</span></tt></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</ul>
</li>
              
            
            
              
                
  <li><a href="demos.html"
         title="Previous Chapter: Demos">&laquo; Demos</a></li>
  <li><a href="dev_guide.html"
         title="Next Chapter: Developer Guide">Developer Guide &raquo;</a></li>
              
            
            
            
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          

        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
      <div class="col-md-3">
        <div id="sidebar" class="bs-sidenav" role="complementary"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Quickstart</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="demos.html">Demos</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">User Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#browse">Browse</a></li>
<li class="toctree-l2"><a class="reference internal" href="#drilldown">Drilldown</a></li>
<li class="toctree-l2"><a class="reference internal" href="#query">Query</a></li>
<li class="toctree-l2"><a class="reference internal" href="#how-estuarial-interacts-with-sql-queries">How Estuarial Interacts with SQL Queries</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="dev_guide.html">Developer Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="release_notes.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="release_notes.html#roadmap-todo-list">Roadmap &amp; TODO List</a></li>
</ul>

<div id="sourcelink">
  <a href="_sources/user_guide.txt"
     rel="nofollow">Source</a>
</div>
<form action="search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
        </div>
      </div>
    <div class="col-md-9">
      
  <div class="section" id="user-guide">
<span id="userguide"></span><h1>User Guide<a class="headerlink" href="#user-guide" title="Permalink to this headline">Â¶</a></h1>
<p>Estuarial is an open-source financial data analysis platform developed for
use with ad-hoc data sets as well as pre-configured data sets supplied from
Thomson Reuters QAD. The goal of Estuarial is to solve many of the data access,
array computing, caching, and software engineering roadblocks that currently
result in quantitative analysts spending more time preparing the data than
performing research.</p>
<p>There are three major modes of use for Estuarial: raw querying, browsing pre-
configured data sources, and drilling down to get specific information about a
particular query or piece of data (usually for debugging). These are organized
into the top-level sub-packages of the project, <tt class="code docutils literal"><span class="pre">query</span></tt>, <tt class="code docutils literal"><span class="pre">browse</span></tt>,
and <tt class="code docutils literal"><span class="pre">drilldown</span></tt>.</p>
<ul class="simple">
<li><tt class="code docutils literal"><span class="pre">query</span></tt>: Contains facilities to perform raw queries contained in Python
strings. Future development will include methods for mirroring parts
of the available data infrastructure directly in Python.</li>
<li><tt class="code docutils literal"><span class="pre">browse</span></tt>: Contains convenience functions that perform commonly-needed
data access patterns against pre-configured data sources. New data sources
can be added to the configuration so that <tt class="code docutils literal"><span class="pre">browse</span></tt> tools can be used
even with custom data sets.</li>
<li><tt class="code docutils literal"><span class="pre">drilldown</span></tt>: Contains metadata access code for introspecting available
items, learning how entities are mapped between data locations, and debugging
the pieces of some data access pipeline when it gives unexpected results.</li>
</ul>
<p>In addition to the three main sub-packages, a few other sub-packages exist:</p>
<ul class="simple">
<li><tt class="code docutils literal"><span class="pre">data</span></tt>: Location for software to handle connections to the data and to
interpret special markup (Yaml documents) that extend a database access
pattern into Python.</li>
<li><tt class="code docutils literal"><span class="pre">util</span></tt>: Location for odds and ends code needed to be centrally
maintained and tested together, but which is used frequently in the rest of
the library.</li>
<li><tt class="code docutils literal"><span class="pre">array</span></tt>: Contains adapters which allow the library to connect to
different array computing backend tools.</li>
<li><tt class="code docutils literal"><span class="pre">test</span></tt>: Location of the projects tests.</li>
</ul>
<p>Partial support exists for convenience-layer queries and metadata for the
following vendors: DataStream, WorldScope, RKD, and IDC &#8211; with increasing and
extended support for more vendors and data sets being added continuously.</p>
<div class="section" id="browse">
<h2>Browse<a class="headerlink" href="#browse" title="Permalink to this headline">Â¶</a></h2>
<p>The beginning of many analytic work flows is browsing the data.  Exploration
conveys a sense of immediacy and limited scope.  For Estuarial, this means
building common starting points, attaching convenience methods whenever
possible, and metadata browsing.</p>
<div class="section" id="index-constituents">
<h3>Index Constituents<a class="headerlink" href="#index-constituents" title="Permalink to this headline">Â¶</a></h3>
<p>One basic operation is retrieving a set of point-in-time constituents
belonging to a particular market index. The <tt class="code docutils literal"><span class="pre">MarketIndex</span></tt> class
encapsulates this functionality as in the following examples:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">estuarial.browse.market_index</span> <span class="kn">import</span> <span class="n">MarketIndex</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span> <span class="o">=</span> <span class="n">MarketIndex</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="o">.</span><span class="n">constituents</span><span class="p">(</span><span class="s">&quot;Russell 1000&quot;</span><span class="p">,</span> <span class="s">&#39;2014-01-01&#39;</span><span class="p">,</span> <span class="s">&#39;2014-02-01&#39;</span><span class="p">)</span>

<span class="go">&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;</span>
<span class="go">Int64Index: 21294 entries, 0 to 21293</span>
<span class="go">Data columns (total 10 columns):</span>
<span class="go">INAME                  21294  non-null values</span>
<span class="go">ITICKER                21294  non-null values</span>
<span class="go">TICKER                 21294  non-null values</span>
<span class="go">CUSIP                  21294  non-null values</span>
<span class="go">NAME                   21294  non-null values</span>
<span class="go">DATE_                  21294  non-null values</span>
<span class="go">CLOSE_                 21294  non-null values</span>
<span class="go">SHARES                 21292  non-null values</span>
<span class="go">SECCODE                21294  non-null values</span>
<span class="go">RELATIVE_MARKET_CAP    21292  non-null values</span>
<span class="go">dtypes: datetime64[ns](1), float64(3), int64(1), object(5)</span>


<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="p">[</span><span class="s">&quot;S&amp;P 500&quot;</span><span class="p">,</span> <span class="s">&#39;2012-12-28&#39;</span><span class="p">]</span>

<span class="go">&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;</span>
<span class="go">Int64Index: 500 entries, 0 to 499</span>
<span class="go">Data columns (total 10 columns):</span>
<span class="go">INAME                  500  non-null values</span>
<span class="go">ITICKER                500  non-null values</span>
<span class="go">TICKER                 500  non-null values</span>
<span class="go">CUSIP                  500  non-null values</span>
<span class="go">NAME                   500  non-null values</span>
<span class="go">DATE_                  500  non-null values</span>
<span class="go">CLOSE_                 500  non-null values</span>
<span class="go">SHARES                 500  non-null values</span>
<span class="go">SECCODE                500  non-null values</span>
<span class="go">RELATIVE_MARKET_CAP    500  non-null values</span>
<span class="go">dtypes: datetime64[ns](1), float64(3), int64(1), object(5)</span>
</pre></div>
</div>
<p>Currently there is support for the S&amp;P BMI country and regional indices, the
S&amp;P 100, 500, and 1000, the Russell 1000, 2000, and 3000, and Dow Jones.</p>
<dl class="class">
<dt id="estuarial.browse.market_index.MarketIndex">
<em class="property">class </em><tt class="descclassname">estuarial.browse.market_index.</tt><tt class="descname">MarketIndex</tt><a class="reference internal" href="_modules/estuarial/browse/market_index.html#MarketIndex"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#estuarial.browse.market_index.MarketIndex" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Provider for market index constituents.</p>
<blockquote>
<div>m = MarketIndex()
m.available_indices()
m.constituents(&#8220;Russell 1000&#8221;, &#8216;2012-12-28&#8217;, &#8216;2012-12-31&#8217;)
m[&#8220;S&amp;P 500&#8221;, datetime.date(2012, 12, 28):datetime.date(2012, 12, 31)]</div></blockquote>
</dd></dl>

</div>
<div class="section" id="universe-constituents">
<h3>Universe Constituents<a class="headerlink" href="#universe-constituents" title="Permalink to this headline">Â¶</a></h3>
<p>Aside from pre-existing indices, analysts often want to look at baskets of
financial instruments grouped by geographic, industrial, or other common
categorical information.</p>
<p>The <tt class="code docutils literal"><span class="pre">Universe</span></tt> exists to encapsulate the point-in-time membership for
these categories. The returned <tt class="code docutils literal"><span class="pre">Universe</span></tt> object stores a
<tt class="code docutils literal"><span class="pre">pandas.DataFrame</span></tt> in the attribute <tt class="code docutils literal"><span class="pre">data</span></tt> attribute, with entity
information about each returned security. Below is an example for the current
list of all U.S. stocks.:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">estuarial.browse.universe_builder</span> <span class="kn">import</span> <span class="n">UniverseBuilder</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">us_constituents</span> <span class="o">=</span> <span class="n">UniverseBuilder</span><span class="o">.</span><span class="n">us</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">us_constituents</span><span class="o">.</span><span class="n">data</span>

<span class="go">Int64Index: 28052 entries, 0 to 28051</span>
<span class="go">Data columns (total 11 columns):</span>
<span class="go">infocode        28052  non-null values</span>
<span class="go">isocurrcode     28052  non-null values</span>
<span class="go">isprimexchqt    28052  non-null values</span>
<span class="go">exchintcode     28052  non-null values</span>
<span class="go">ctrytradedin    28052  non-null values</span>
<span class="go">statuscode      28052  non-null values</span>
<span class="go">typecode        28052  non-null values</span>
<span class="go">seccode         28052  non-null values</span>
<span class="go">ctryofissuer    28052  non-null values</span>
<span class="go">ventype         28052  non-null values</span>
<span class="go">vencode         28052  non-null values</span>
</pre></div>
</div>
<p><tt class="code docutils literal"><span class="pre">Universe</span></tt> can also be used to retrieve market index information, similar
to <tt class="code docutils literal"><span class="pre">MarketIndex</span></tt> but with optional ability to align and retrieve other
metrics (described in the next section).:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">spx</span> <span class="o">=</span> <span class="n">UniverseBuilder</span><span class="o">.</span><span class="n">spx_idx</span><span class="p">(</span><span class="s">&quot;2013-12-04&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">spx</span> <span class="o">=</span> <span class="n">UniverseBuilder</span><span class="o">.</span><span class="n">spx_idx</span><span class="p">(</span><span class="n">dt</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2013</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">spx</span><span class="o">.</span><span class="n">data</span>

<span class="go">&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;</span>
<span class="go">Int64Index: 500 entries, 0 to 499</span>
<span class="go">Data columns (total 10 columns):</span>
<span class="go">iname                  500  non-null values</span>
<span class="go">iticker                500  non-null values</span>
<span class="go">ticker                 500  non-null values</span>
<span class="go">cusip                  500  non-null values</span>
<span class="go">name                   500  non-null values</span>
<span class="go">date_                  500  non-null values</span>
<span class="go">close_                 500  non-null values</span>
<span class="go">shares                 500  non-null values</span>
<span class="go">seccode                500  non-null values</span>
<span class="go">relative_market_cap    500  non-null values</span>
<span class="go">dtypes: datetime64[ns](1), float64(3), int64(1), object(5)</span>
</pre></div>
</div>
</div>
<div class="section" id="retrieving-metrics-aligned-to-universe-constituents">
<h3>Retrieving Metrics Aligned to Universe Constituents<a class="headerlink" href="#retrieving-metrics-aligned-to-universe-constituents" title="Permalink to this headline">Â¶</a></h3>
<p>From the example above, the <tt class="code docutils literal"><span class="pre">Universe</span></tt> object has several methods for
querying data aligned to the universe as a set of entities:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">spx</span><span class="o">.</span><span class="n">ohlc</span><span class="p">[</span><span class="s">&#39;2009-01-01&#39;</span><span class="p">:</span><span class="s">&#39;2014-01-01&#39;</span><span class="p">]</span> <span class="c">#return Open, High, Low, Close</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">spx</span><span class="o">.</span><span class="n">cash</span><span class="p">[</span><span class="s">&#39;2009-01-01&#39;</span><span class="p">:</span><span class="s">&#39;2014-01-01&#39;</span><span class="p">]</span> <span class="c">#return CASH fundamental from WorldScope</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">spx</span><span class="o">.</span><span class="n">ni</span><span class="p">[</span><span class="s">&#39;2009-01-01&#39;</span><span class="p">:</span><span class="s">&#39;2014-01-01&#39;</span><span class="p">]</span>   <span class="c">#return Net Income from WordlScope</span>
</pre></div>
</div>
<p>The implementation of attributes such as <tt class="code docutils literal"><span class="pre">ohlc</span></tt> and <tt class="code docutils literal"><span class="pre">cash</span></tt> is
easily extendable, both as part of new release updates that work with the pre-
configured data sets and also derived from user-defined queries. See the
section on extended the tool with custom queries for more information.</p>
<p><em>Note</em> <tt class="code docutils literal"><span class="pre">UniverseBuilder</span></tt> <em>is experimental</em>.  Entities limited to S&amp;P 500,
Dow Jones, currently traded US or Canadian stocks. Expect some functionality
between <tt class="code docutils literal"><span class="pre">MarketIndex</span></tt> and <tt class="code docutils literal"><span class="pre">UniverseBuilder</span></tt> to be refactored.</p>
<dl class="class">
<dt id="estuarial.browse.universe_builder.UniverseBuilder">
<em class="property">class </em><tt class="descclassname">estuarial.browse.universe_builder.</tt><tt class="descname">UniverseBuilder</tt><a class="reference internal" href="_modules/estuarial/browse/universe_builder.html#UniverseBuilder"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#estuarial.browse.universe_builder.UniverseBuilder" title="Permalink to this definition">Â¶</a></dt>
<dd><p>universe builder and pre-defined universes
These funcs should belong in the catalogue?
check</p>
<dl class="classmethod">
<dt id="estuarial.browse.universe_builder.UniverseBuilder.djx_idx">
<em class="property">classmethod </em><tt class="descname">djx_idx</tt><big>(</big><em>dt</em><big>)</big><a class="reference internal" href="_modules/estuarial/browse/universe_builder.html#UniverseBuilder.djx_idx"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#estuarial.browse.universe_builder.UniverseBuilder.djx_idx" title="Permalink to this definition">Â¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>dt</strong> &#8211; DateTime</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Dow Jones Universe on a given date</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="estuarial.browse.universe_builder.UniverseBuilder.spx_idx">
<em class="property">classmethod </em><tt class="descname">spx_idx</tt><big>(</big><em>dt</em><big>)</big><a class="reference internal" href="_modules/estuarial/browse/universe_builder.html#UniverseBuilder.spx_idx"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#estuarial.browse.universe_builder.UniverseBuilder.spx_idx" title="Permalink to this definition">Â¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>dt</strong> &#8211; DateTime</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">SP500 Universe on a given date</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
</div>
<div class="section" id="drilldown">
<h2>Drilldown<a class="headerlink" href="#drilldown" title="Permalink to this headline">Â¶</a></h2>
<p>One important time-cost to analysts is inspecting data schema or architecture
information. The <tt class="code docutils literal"><span class="pre">drilldown</span></tt> sub-package allows for quick,
<em>within-Python</em> inspection of schema information, such as what item names or
codes are available from different vendors.:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">estuarial.browse.metrics_manager</span> <span class="kn">import</span> <span class="n">MetricsManager</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">metrics</span> <span class="o">=</span> <span class="n">MetricsManager</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">metrics</span><span class="o">.</span><span class="n">ws</span><span class="o">.&lt;</span><span class="n">tab</span><span class="o">&gt;&lt;</span><span class="n">tab</span><span class="o">&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">metrics</span><span class="o">.</span><span class="n">rkd</span><span class="o">.&lt;</span><span class="n">tab</span><span class="o">&gt;&lt;</span><span class="n">tab</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>An immediate advantage is seen by leveraging IPython tab completion and pattern
matching to view available items:</p>
<div class="highlight-python"><pre>&gt;&gt;&gt; metrics.rkd.*Restaurants*?
&gt;&gt;&gt; metrics.ws.*DEBT*?</pre>
</div>
</div>
<div class="section" id="query">
<h2>Query<a class="headerlink" href="#query" title="Permalink to this headline">Â¶</a></h2>
<p>The <tt class="code docutils literal"><span class="pre">query</span></tt> sub-package aims to represent the most generalized form of
queries reflected in Python. The API restricts functions to take three arguments:
a list of entities, a list of metrics, and a date range:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">estuarial.query.trqad</span> <span class="kn">import</span> <span class="n">TRQAD</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">qad</span> <span class="o">=</span> <span class="n">TRQAD</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">qad</span><span class="o">.</span><span class="n">fundamentals</span><span class="p">(</span><span class="n">universe</span><span class="p">,</span> <span class="n">metrics_list</span><span class="p">,</span> <span class="n">dt_list</span><span class="p">,</span> <span class="n">DB</span><span class="o">=</span><span class="s">&quot;WORLDSCOPE&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Data is automatically cached using advanced features of the Python PyTables
library and the HDF5 data format. Data is returned back as a
<tt class="code docutils literal"><span class="pre">pandas.DataFrame</span></tt>.  To query for end of day data from DataStream:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">qad</span><span class="o">.</span><span class="n">datastream</span><span class="p">(</span><span class="n">universe</span><span class="p">,</span> <span class="n">dt_list</span><span class="p">)</span>
</pre></div>
</div>
<p>and to query fundamentals data from WorldScope:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">qad</span><span class="o">.</span><span class="n">fundamentals</span><span class="p">(</span><span class="n">universe</span><span class="p">,</span> <span class="n">metrics_list</span><span class="p">,</span> <span class="n">dt_list</span><span class="p">,</span> <span class="n">DB</span><span class="o">=</span><span class="s">&quot;WORLDSCOPE&quot;</span><span class="p">)</span>
</pre></div>
</div>
<dl class="class">
<dt id="estuarial.query.trqad.TRQAD">
<em class="property">class </em><tt class="descclassname">estuarial.query.trqad.</tt><tt class="descname">TRQAD</tt><big>(</big><em>path=None</em><big>)</big><a class="reference internal" href="_modules/estuarial/query/trqad.html#TRQAD"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#estuarial.query.trqad.TRQAD" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Functional style interface into TR&#8217;s DB.  Most functions take 3 arguments:</p>
<ul class="simple">
<li>Universe (list of entities)</li>
<li>Metrics (list of measurements)</li>
<li>Date Range</li>
</ul>
</dd></dl>

</div>
<div class="section" id="how-estuarial-interacts-with-sql-queries">
<h2>How Estuarial Interacts with SQL Queries<a class="headerlink" href="#how-estuarial-interacts-with-sql-queries" title="Permalink to this headline">Â¶</a></h2>
<p>Estuarial is designed to work with pre-configured SQL query documents as well as
those created and added to the tool by the end users. This process involves
storing a query in a specially marked-up format as part of a Yaml document,
with some extra annotations regarding documentation and the names of components
of the returned data that should be contrainable for controlling the scope of
the query.</p>
<div class="section" id="singleton-yaml-documents">
<h3>Singleton Yaml Documents<a class="headerlink" href="#singleton-yaml-documents" title="Permalink to this headline">Â¶</a></h3>
<p>For working with a single SQL query, Estuarial uses a markup format known as Yaml
to contain a name for the query, some documentation, the query string itself, and
annotations about which fields in the query should serve as keyword arguments
that can be used from Python to generate <tt class="code docutils literal"><span class="pre">WHERE</span></tt> statements for restricting
the result set of the query.</p>
<p>We have see the <tt class="code docutils literal"><span class="pre">ohlc</span></tt> functionality in the sections above; here is the Yaml
document that contains the SQL statements needed for this query.:</p>
<div class="highlight-python"><pre>SQL:
    ohlc:
        doc: Some OHLC documentation.

        conditionals:
            - seccode
            - marketdate

        query: &gt;
            select m.seccode
              , marketdate
              , Open_
              , high
              , low
              , Close_
              , q.ISOCurrCode
              , case priceunit
                           when 'E+02' then 100
                     else 1
                    end as CumAdjFactor
            from Ds2PrimQtPrc q
            join secmapx m
                on m.vencode = q.infocode
                and m.ventype = 33 and rank = 1
            join ds2Adj a
                on a.infocode = q.infocode
                and q.marketdate between adjdate and isnull(endadjdate, '2079-06-06')
                and AdjType = 2
            join ds2exchqtinfo e
                on e.infocode = q.infocode
               and e.startdate &lt; q.marketdate
               and q.exchintcode = e.exchintcode</pre>
</div>
<p>The <tt class="code docutils literal"><span class="pre">doc</span></tt> section provides a string describing the query. This string
can serve as the documentation string within the resulting Python code as well
so it is important to provide descriptive documentation.</p>
<p>The <tt class="code docutils literal"><span class="pre">conditionals</span></tt> section declares columns that will result in the data
fetched by the query &#8211; these columns will act as keyword arguments in Python to
allow for on-the-fly <tt class="code docutils literal"><span class="pre">WHERE</span></tt> clause constraints placed on them.</p>
<p>Finally, the <tt class="code docutils literal"><span class="pre">query</span></tt> section is a multi-line string containing the actual
SQL query itself. This is where user-supplied SQL code can be pasted to
automatically generate Python structures that will perform the query.</p>
</div>
<div class="section" id="composite-yaml-documents">
<h3>Composite Yaml Documents<a class="headerlink" href="#composite-yaml-documents" title="Permalink to this headline">Â¶</a></h3>
<p>Much like the singleton Yaml document described above, composite Yaml documents
contain <tt class="code docutils literal"><span class="pre">doc</span></tt>, <tt class="code docutils literal"><span class="pre">conditionals</span></tt>, and <tt class="code docutils literal"><span class="pre">query</span></tt> sections that work
the same way. The difference is that at the top-level of the document, a name
is given instead of the keyword &#8220;SQL&#8221;. This name will be the name of a
constructed Python class.</p>
<p>The other major difference is that the file can contain more than one SQL query.
Each of the provided queries will become a different member function belonging
to the constructed class. You can thinking of the constructed class as a
convenience object meant to hold a bundle of releated SQL queries (in their
Python function form).</p>
<p>See the section below on using <tt class="code docutils literal"><span class="pre">QueryHandler</span></tt> for an example of a composite
Yaml document and guidelines for how to use them.</p>
</div>
<div class="section" id="introduction-to-queryhandler">
<h3>Introduction to <tt class="code docutils literal"><span class="pre">QueryHandler</span></tt><a class="headerlink" href="#introduction-to-queryhandler" title="Permalink to this headline">Â¶</a></h3>
<p>Within the <tt class="code docutils literal"><span class="pre">data</span></tt> sub-package exists the class <tt class="code docutils literal"><span class="pre">QueryHandler</span></tt> for
ingesting composite Yaml documents as described above and translating them into
Python classes with queries exposed as if they were user-defined functions.</p>
<dl class="class">
<dt id="estuarial.data.query_handler.QueryHandler">
<em class="property">class </em><tt class="descclassname">estuarial.data.query_handler.</tt><tt class="descname">QueryHandler</tt><a class="reference internal" href="_modules/estuarial/data/query_handler.html#QueryHandler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#estuarial.data.query_handler.QueryHandler" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Provides method <cite>create_type_from_yaml</cite> which converts a composite yaml
query definition file into a new Python class. The created class will
have functions available corresponding to each named query in the yaml.</p>
<p>The keyword arguments for these functions will include any conditional
arguments given in the yaml, as well as augmented keyword arguments that
allow for SQL operations to be performed on the conditional argument names.</p>
<p>Review the <cite>query_handler_doc.md</cite> documentation file for a more extended
explanation of the uses and conventions of <cite>QueryHandler</cite>.</p>
</dd></dl>

</div>
<div class="section" id="using-queryhandler">
<h3>Using <tt class="code docutils literal"><span class="pre">QueryHandler</span></tt><a class="headerlink" href="#using-queryhandler" title="Permalink to this headline">Â¶</a></h3>
<p>Consider the following sample composite query file which is saved in
&#8220;/test/test_example.yaml&#8221; relative to <tt class="code docutils literal"><span class="pre">QueryHandler._FILE_DIR</span></tt>.:</p>
<div class="highlight-python"><pre>AccountingData:
    inventory:
        doc: This is a query for inventory.
        conditionals:
            account_id: A customer's account number.
            shipping_date: The shipping date.
        query: &gt;
            SELECT
                  a.account_id as account_id
                , b.shipping_id as shipping_id
                , a.customer_name
                , b.shipping_date
                , b.order_volume
                , b.total_sales
            FROM account_table a
            JOIN shipping_table b
                ON a.account_id = b.shipping_id

    payroll:
        doc: This is a payroll query.
        conditionals:
            branch_id: A branch id number
            city: A city name
        query: &gt;
            SELECT
                  a.branch_id
                , b.city
                , a.total_payroll as branch_payroll
                , b.total_payroll as city_payroll
            FROM branch_table a
            JOIN branch_location_table b
                ON a.branch_id = b.branch_id</pre>
</div>
<p>The <tt class="code docutils literal"><span class="pre">QueryHandler.create_type_from_yaml</span></tt> function will create a new
Python class, <tt class="code docutils literal"><span class="pre">AccountingData</span></tt> that has two functions::</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># These return pandas.DataFrame representations of the data returned</span>
<span class="c"># from the query.</span>
<span class="n">AccountingData</span><span class="o">.</span><span class="n">inventory</span>
<span class="n">AccountingData</span><span class="o">.</span><span class="n">payroll</span>
</pre></div>
</div>
<p>and will have attributes for the known conditional arguments and the query
strings as well::</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># The file location of a generated yaml file that stores just the</span>
<span class="c"># &quot;inventory&quot; section from the composite yaml file.</span>
<span class="n">AccountingData</span><span class="o">.</span><span class="n">__inventory_file</span>

<span class="c"># A string of the raw query for the inventory function.</span>
<span class="n">AccountingData</span><span class="o">.</span><span class="n">__inventory_query</span>

<span class="c"># A list of strings naming the different conditional arguments that</span>
<span class="c"># were listed for the inventory function.</span>
<span class="n">AccountingData</span><span class="o">.</span><span class="n">__inventory_kwargs</span>

<span class="c"># These are repeated for any other functions as well:</span>
<span class="n">AccountingData</span><span class="o">.</span><span class="n">__payroll_file</span>
<span class="n">AccountingData</span><span class="o">.</span><span class="n">__payroll_query</span>
<span class="n">AccountingData</span><span class="o">.</span><span class="n">__payroll_kwargs</span>
</pre></div>
</div>
<p>Let&#8217;s look at the <tt class="code docutils literal"><span class="pre">inventory</span></tt> query. Because the file declares
<tt class="code docutils literal"><span class="pre">accounting_id</span></tt> as a conditional name, that name will be interpreted as
something that should be available as an argument for the <tt class="code docutils literal"><span class="pre">inventory</span></tt>
function, such as <tt class="code docutils literal"><span class="pre">inventory(accounting_id=10)</span></tt>.</p>
<p>Under the hood, this will generate a SQL <tt class="code docutils literal"><span class="pre">WHERE</span></tt> condition (as in,
<tt class="code docutils literal"><span class="pre">WHERE</span> <span class="pre">accounting_id</span> <span class="pre">=</span> <span class="pre">10</span></tt>) that will get applied to the base results of
whatever plain query was given for the inventory entry in the yaml file.</p>
<p>In this manner, the function inventory acts like a specifier for <tt class="code docutils literal"><span class="pre">WHERE</span></tt>
conditions for the query it was given, such that only the items listed as
conditionals can appear in the <tt class="code docutils literal"><span class="pre">WHERE</span></tt> statements.</p>
<p>So if we wanted to see the result of the inventory query where
<tt class="code docutils literal"><span class="pre">account_id</span></tt> is 10 and <tt class="code docutils literal"><span class="pre">shipping_date</span></tt> is &#8216;2012-12-31&#8217;, we could
say::</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">qh</span> <span class="o">=</span> <span class="n">QueryHandler</span><span class="p">()</span>
<span class="n">AccountingData</span> <span class="o">=</span> <span class="n">qh</span><span class="o">.</span><span class="n">create_type_from_yaml</span><span class="p">(</span><span class="s">&#39;test/test_example.yaml&#39;</span><span class="p">)</span>
<span class="n">ad</span> <span class="o">=</span> <span class="n">AccountingData</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">ad</span><span class="o">.</span><span class="n">inventory</span><span class="p">(</span><span class="n">accounting_id</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">shipping_date</span><span class="o">=</span><span class="s">&#39;2012-12-31&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>But what about more options for the arguments?</p>
<p>This is handled with special keyword arguments that extend the given
conditional names to include other operations, like <tt class="code docutils literal"><span class="pre">BETWEEN</span></tt> or
<tt class="code docutils literal"><span class="pre">&gt;=</span></tt> or <tt class="code docutils literal"><span class="pre">IS</span> <span class="pre">NOT</span></tt>. These are shown below::</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># No use of any WHERE conditions</span>
<span class="n">ad</span><span class="o">.</span><span class="n">inventory</span><span class="p">()</span>

<span class="c"># WHERE account_id = 10</span>
<span class="n">ad</span><span class="o">.</span><span class="n">inventory</span><span class="p">(</span><span class="n">account_id</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>

<span class="c"># WHERE account_id != 10</span>
<span class="n">ad</span><span class="o">.</span><span class="n">inventory</span><span class="p">(</span><span class="n">account_id_not_equal</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>

<span class="c"># WHERE account_id &gt; 10</span>
<span class="n">ad</span><span class="o">.</span><span class="n">inventory</span><span class="p">(</span><span class="n">account_id_greater_than</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>

<span class="c"># WHERE account_id &gt;= 10</span>
<span class="n">ad</span><span class="o">.</span><span class="n">inventory</span><span class="p">(</span><span class="n">account_id_greater_than_or_equal</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>

<span class="c"># WHERE account_id &lt; 10</span>
<span class="n">ad</span><span class="o">.</span><span class="n">inventory</span><span class="p">(</span><span class="n">account_id_less_than</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>

<span class="c"># WHERE account_id &lt;= 10</span>
<span class="n">ad</span><span class="o">.</span><span class="n">inventory</span><span class="p">(</span><span class="n">account_id_less_than_or_equal</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>

<span class="c"># WHERE account_id BETWEEN 10 AND 20</span>
<span class="n">ad</span><span class="o">.</span><span class="n">inventory</span><span class="p">(</span><span class="n">account_id_between</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">))</span>

<span class="c"># WHERE account_id IN (10, 11, 12)</span>
<span class="n">ad</span><span class="o">.</span><span class="n">inventory</span><span class="p">(</span><span class="n">account_id_in</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">12</span><span class="p">))</span>

<span class="c"># WHERE account_id NOT IN (10, 11, 12)</span>
<span class="n">ad</span><span class="o">.</span><span class="n">inventory</span><span class="p">(</span><span class="n">account_id_not_in</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">12</span><span class="p">))</span>

<span class="c"># WHERE account_id IS NULL</span>
<span class="n">ad</span><span class="o">.</span><span class="n">inventory</span><span class="p">(</span><span class="n">account_id_is</span><span class="o">=</span><span class="bp">None</span><span class="p">)</span>

<span class="c"># WHERE account_id IS NOT NULL</span>
<span class="n">ad</span><span class="o">.</span><span class="n">inventory</span><span class="p">(</span><span class="n">account_id_is_not</span><span class="o">=</span><span class="bp">None</span><span class="p">)</span>
<span class="n">ad</span><span class="o">.</span><span class="n">inventory</span><span class="p">(</span><span class="n">account_id_not_equal</span><span class="o">=</span><span class="bp">None</span><span class="p">)</span>
</pre></div>
</div>
<p>To demonstrate string operations, we&#8217;ll use the <tt class="code docutils literal"><span class="pre">city</span></tt> variable from the
<tt class="code docutils literal"><span class="pre">payroll</span></tt> function::</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># WHERE city LIKE &#39;%York%&#39;</span>
<span class="n">ad</span><span class="o">.</span><span class="n">payroll</span><span class="p">(</span><span class="n">city_like</span><span class="o">=</span><span class="s">&quot; &#39;%York%&#39; &quot;</span><span class="p">)</span>

<span class="c"># WHERE city NOT LIKE &#39;%York%&#39;</span>
<span class="n">ad</span><span class="o">.</span><span class="n">payroll</span><span class="p">(</span><span class="n">city_not_like</span><span class="o">=</span><span class="s">&quot; &#39;%York%&#39; &quot;</span><span class="p">)</span>

<span class="c"># WHERE city ILIKE &#39;%york%&#39;</span>
<span class="n">ad</span><span class="o">.</span><span class="n">payroll</span><span class="p">(</span><span class="n">city_ilike</span><span class="o">=</span><span class="s">&quot; &#39;%york%&#39; &quot;</span><span class="p">)</span>

<span class="c"># WHERE city NOT ILIKE &#39;%york%&#39;</span>
<span class="n">ad</span><span class="o">.</span><span class="n">payroll</span><span class="p">(</span><span class="n">city_not_ilike</span><span class="o">=</span><span class="s">&quot; &#39;%york%&#39; &quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>And some string conveniences are defined for matching the start or end of
a string, and also checking if a string contains something. The appropriate
SQL equivalent is given, assuming <tt class="code docutils literal"><span class="pre">&lt;pattern&gt;</span></tt> represents the text to be
matched.:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># WHERE city LIKE &#39;%&lt;pattern&gt;%&#39;</span>
<span class="n">ad</span><span class="o">.</span><span class="n">payroll</span><span class="p">(</span><span class="n">city_contains</span><span class="o">=</span><span class="s">&quot;&lt;pattern&gt;&quot;</span><span class="p">)</span>

<span class="c"># WHERE city LIKE &#39;&lt;pattern&gt;%&#39;</span>
<span class="n">ad</span><span class="o">.</span><span class="n">payroll</span><span class="p">(</span><span class="n">city_startswith</span><span class="o">=</span><span class="s">&quot;&lt;pattern&gt;&quot;</span><span class="p">)</span>

<span class="c"># WHERE city LIKE &#39;%&lt;pattern&gt;&#39;</span>
<span class="n">ad</span><span class="o">.</span><span class="n">payroll</span><span class="p">(</span><span class="n">city_endswith</span><span class="o">=</span><span class="s">&quot;&lt;pattern&gt;&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>The &#8220;doc&#8221; keyword that appeared in the yaml file will create the function&#8217;s
documentation, along with the keyword arguments::</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">help</span><span class="p">(</span><span class="n">ad</span><span class="o">.</span><span class="n">inventory</span><span class="p">)</span>
<span class="k">print</span> <span class="n">ad</span><span class="o">.</span><span class="n">inventory</span><span class="o">.</span><span class="n">__doc__</span>
</pre></div>
</div>
<p>These will display::</p>
<div class="highlight-python"><pre>This is a query for inventory.

Params
------
account_id: A customer's account number.
shipping_date: The shipping date.</pre>
</div>
<p>By mimicking this example composite Yaml document and placing it in the
the location for custom SQL queries, a user can automatically generate a Python
class which embodies as functions whatever queries are desired , with keyword
arguments to control the <tt class="code docutils literal"><span class="pre">WHERE</span></tt> statements.</p>
</div>
</div>
</div>


    </div>
      
  </div>
</div>

<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
        <br/>
        
<div id="sourcelink">
  <a href="_sources/user_guide.txt"
     rel="nofollow">Source</a>
</div>
      
    </p>
    <p>
        &copy; Copyright 2014, Continuum Analytics.<br/>
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.<br/>
    </p>
  </div>
</footer>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-27761864-7', 'pydata.org');
  ga('send', 'pageview');

</script>



  </body>
</html>