

<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>User Guide &mdash; estuarial 0.1 documentation</title>
    
    <link rel="stylesheet" href="_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/my-styles.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootstrap-3.0.0/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootstrap-3.0.0/css/bootstrap-theme.min.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootstrap-sphinx.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/js/jquery-1.9.1.min.js"></script>
    <script type="text/javascript" src="_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="_static/bootstrap-3.0.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="_static/bootstrap-sphinx.js"></script>
    <link rel="author" title="About these documents" href="about.html" />
    <link rel="top" title="estuarial 0.1 documentation" href="index.html" />
    <link rel="next" title="Developer Guide" href="dev_guide.html" />
    <link rel="prev" title="Demos" href="demos.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head>
  <body>

<a href="https://github.com/ContinuumIO/estuarial"><img style="position: absolute; top: 45px; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub"></a>
<div id="navbar" class="navbar navbar-inverse navbar-default navbar-fixed-top">

    <div class="container">

      <div class="navbar-header">

        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>

        <!--<a class="logo"> <img height="32" width="32" src="_static/a-logo.png" /></a>-->
        <a class="navbar-brand" href="index.html">estuarial</a>
        <span class="navbar-text navbar-version pull-left"><b>0.1</b></span>
      </div>
        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
            
              <li class="dropdown globaltoc-container">
  <a href="index.html"
     class="dropdown-toggle"
     data-toggle="dropdown">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
    ><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Quickstart</a><ul>
<li class="toctree-l2"><a class="reference internal" href="quickstart.html#downloading-installing">Downloading/Installing</a></li>
<li class="toctree-l2"><a class="reference internal" href="quickstart.html#using-estuarial">Using Estuarial</a></li>
<li class="toctree-l2"><a class="reference internal" href="quickstart.html#example-ipython-notebooks">Example IPython Notebooks</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="installation.html#configuration">Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="installation.html#installing-freetds">Installing FreeTDS</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="demos.html">Demos</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">User Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#production">Production</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="dev_guide.html">Developer Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="dev_guide.html#architecture-overview">Architecture Overview</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="release_notes.html">Release Notes</a><ul>
<li class="toctree-l2"><a class="reference internal" href="release_notes.html#v0-1-apri-2014">v0.1 (Apri 2014)</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="release_notes.html#roadmap-todo-list">Roadmap &amp; TODO List</a></li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"><ul>
<li><a class="reference internal" href="#">User Guide</a><ul>
<li><a class="reference internal" href="#production">Production</a></li>
</ul>
</li>
</ul>
</ul>
</li>
              
            
            
              
                
  <li><a href="demos.html"
         title="Previous Chapter: Demos">&laquo; Demos</a></li>
  <li><a href="dev_guide.html"
         title="Next Chapter: Developer Guide">Developer Guide &raquo;</a></li>
              
            
            
            
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          

        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
      <div class="col-md-3">
        <div id="sidebar" class="bs-sidenav" role="complementary"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Quickstart</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="demos.html">Demos</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">User Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#production">Production</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="dev_guide.html">Developer Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="release_notes.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="release_notes.html#roadmap-todo-list">Roadmap &amp; TODO List</a></li>
</ul>

<div id="sourcelink">
  <a href="_sources/user_guide.txt"
     rel="nofollow">Source</a>
</div>
<form action="search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
        </div>
      </div>
    <div class="col-md-9">
      
  <div class="section" id="user-guide">
<span id="userguide"></span><h1>User Guide<a class="headerlink" href="#user-guide" title="Permalink to this headline">¶</a></h1>
<p>Estuarial comes preloaded with a catalog of SQL queries designed to help users explore and fetch the data from
TRQAD.  The queries are written with a bit of markup (YAML) and are exposed through python &#8211; offering several
conveniences over simple wrapped raw SQL.  As Estuarial develops the catalog will also develop and become more
comprehensive overtime.  The time series data we can currently can fetch is limited to fundamental data (Worldscope and
RKD) and end of day data (Datastream).  We also have built-out a number of mechanisms to help navigate metadata
vital for filtering time series and understand the financial world.</p>
<p>There are three styles/methods of using estuarial: <em>query</em>, <em>drilldown</em>, and <em>browse</em>.  These three styles map to
the three modes of analysis: production, exploration, debugging.</p>
<div class="section" id="production">
<h2>Production<a class="headerlink" href="#production" title="Permalink to this headline">¶</a></h2>
<p>The Query object aims to represent the most generalized form of queries.  Most functions take 3 arguments: a list of
entities, a list of metrics, and a date range:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">estuarial.query.trqad</span> <span class="kn">import</span> <span class="n">TRQAD</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">qad</span> <span class="o">=</span> <span class="n">TRQAD</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">qad</span><span class="o">.</span><span class="n">fundamentals</span><span class="p">(</span><span class="n">universe</span><span class="p">,</span><span class="n">metrics_list</span><span class="p">,</span><span class="n">dt_list</span><span class="p">,</span><span class="n">DB</span><span class="o">=</span><span class="s">&quot;WORLDSCOPE&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Date is automatically cached in HDF5 and returned back as a Pandas DataFrame.  For production queries, users often
come to estuarial with a list of known entities, dates, etc.  To query for end of day data:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">qad</span><span class="o">.</span><span class="n">datastream</span><span class="p">(</span><span class="n">universe</span><span class="p">,</span> <span class="n">dt_list</span><span class="p">)</span>
</pre></div>
</div>
<dl class="class">
<dt id="estuarial.query.trqad.TRQAD">
<em class="property">class </em><tt class="descclassname">estuarial.query.trqad.</tt><tt class="descname">TRQAD</tt><big>(</big><em>path=None</em><big>)</big><a class="headerlink" href="#estuarial.query.trqad.TRQAD" title="Permalink to this definition">¶</a></dt>
<dd><p>Functional style interface into TR&#8217;s DB.  Most functions take 3 arguments:</p>
<ul class="simple">
<li>Universe (list of entities)</li>
<li>Metrics (list of measurements)</li>
<li>Date Range</li>
</ul>
<dl class="method">
<dt id="estuarial.query.trqad.TRQAD.datastream">
<tt class="descname">datastream</tt><big>(</big><em>universe</em>, <em>dt_list</em><big>)</big><a class="headerlink" href="#estuarial.query.trqad.TRQAD.datastream" title="Permalink to this definition">¶</a></dt>
<dd><p>Query the Datastream DB for Open, High, Low, Close
with a given universe (convenience function)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>universe</strong> (<em>list</em>) &#8211; list of securities</li>
<li><strong>dt_list</strong> (<em>list/tuple</em>) &#8211; Beginning and end market dates for query</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first"><cite>pandas.DataFrame</cite></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">DataFrame of Securities with a TimeSeries of OHLC</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="estuarial.query.trqad.TRQAD.fundamentals">
<tt class="descname">fundamentals</tt><big>(</big><em>universe</em>, <em>metrics</em>, <em>dt_list</em>, <em>DB</em>, <em>freq='Q'</em>, <em>align=False</em><big>)</big><a class="headerlink" href="#estuarial.query.trqad.TRQAD.fundamentals" title="Permalink to this definition">¶</a></dt>
<dd><p>Query A Fundmentals DB for metrics defined by the user
with a given universe.  Metrics are fundamentals commonly
found in balance sheets for equities data.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>universe</strong> (<em>list</em>) &#8211; list of securities</li>
<li><strong>metrics</strong> (<em>list</em>) &#8211; list of metrics to pull from DB: (EPS, CASH, NI, etc.)</li>
<li><strong>dt_list</strong> (<em>list/tuple</em>) &#8211; Beginning and end market dates for query</li>
<li><strong>DB</strong> (<em>string</em>) &#8211; Name of the fundamentals database &#8211; Worldscope, RKD, etc</li>
<li><strong>freq</strong> (<em>string</em>) &#8211; Frequency</li>
<li><strong>align</strong> (<em>bool</em>) &#8211; date align ddate</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first"><cite>pandas.DataFrame</cite></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">DataFrame of Securities with a TimeSeries of OHLC</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="estuarial.query.trqad.TRQAD.ibes_detail_actuals">
<tt class="descname">ibes_detail_actuals</tt><big>(</big><em>universe</em>, <em>measures</em>, <em>dt_list</em>, <em>freq='Q'</em><big>)</big><a class="headerlink" href="#estuarial.query.trqad.TRQAD.ibes_detail_actuals" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
</div>


    </div>
      
  </div>
</div>

<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
        <br/>
        
<div id="sourcelink">
  <a href="_sources/user_guide.txt"
     rel="nofollow">Source</a>
</div>
      
    </p>
    <p>
        &copy; Copyright 2014, Continuum Analytics.<br/>
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.<br/>
    </p>
  </div>
</footer>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-27761864-7', 'pydata.org');
  ga('send', 'pageview');

</script>



  </body>
</html>